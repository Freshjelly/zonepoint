# Zoom Webhook Configuration
# Get from Zoom Marketplace App > Feature > Add Event Subscription
ZOOM_WEBHOOK_SECRET_TOKEN=your_webhook_secret_token_here

# Zoom Server-to-Server OAuth
# Get from Zoom Marketplace App > App Credentials
ZOOM_ACCOUNT_ID=RwznoDRRRr67taa2Lu3sOg
ZOOM_CLIENT_ID=smtXQIlORZexgVN7fdHGA
ZOOM_CLIENT_SECRET=POZnyGp9RL37BYCk5Rozma3f2H8Pm8WL

# Google Service Account
# Path to service account JSON file with Docs and Drive API access
GOOGLE_SERVICE_ACCOUNT_JSON=./service-account.json

# Discord Webhook
# Get from Discord Server Settings > Integrations > Webhooks
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# OpenAI Configuration (Optional)
# Required for LLM summarization. Works without it using fallback.
OPENAI_API_KEY=sk-your-openai-api-key-here
LLM_MODEL=gpt-4o-mini

# Document Sharing
# Set to true to make documents accessible to anyone with the link
MINUTES_SHARE_ANYONE=true

# Timezone for document titles and timestamps
TIMEZONE=Asia/Tokyo

# Security: Replay attack protection window (seconds)
REPLAY_WINDOW_SECONDS=300

# ==========================================
# Ingestion Mode Configuration
# ==========================================
# Choose how to ingest Zoom recordings:
# - webhook: Traditional webhook-based (requires public URL)
# - pull: Periodic polling of Zoom API (no public URL needed)
# - gmail: Gmail-triggered pull (monitors recording emails)
INGESTION_MODE=webhook

# ==========================================
# Pull Mode Configuration
# ==========================================
# User to fetch recordings for ("me" or specific email)
ZOOM_USER_ID=me

# How far back to look for recordings (minutes)
PULL_LOOKBACK_MINUTES=360

# Polling interval for daemon mode (seconds)
PULL_INTERVAL_SECONDS=300

# Directory to store processing state
STATE_DIR=./state

# ==========================================
# Gmail Trigger Configuration
# ==========================================
# Path to Gmail OAuth credentials (download from Google Cloud Console)
GMAIL_CREDENTIALS_JSON=./gmail_credentials.json

# Path to store Gmail OAuth token (auto-generated after first auth)
GMAIL_TOKEN_JSON=./gmail_token.json

# Gmail search query for Zoom recording emails
GMAIL_QUERY=from:no-reply@zoom.us subject:"Cloud Recording" newer_than:7d

# Polling interval for Gmail daemon mode (seconds)
GMAIL_POLL_INTERVAL_SECONDS=300